# ナレッジ蓄積

## 参考資料
- https://www.nikkei.com/article/DGXZQOUB172MT0X11C24A0000000/
- https://youtu.be/0jf09Eg83q8?si=sr4iSqt7M0nTBgzu
- [【オンライン勉強会① ～GA technologies編～Part2】 第1回 国土交通省 地理空間情報データチャレンジ ～国土数値情報編～ アーカイブ動画 ](https://youtu.be/EWGHGAxipRo?si=QnjiG0yheOfUenj4)
- [text](https://www.slideshare.net/slideshow/python-65916758/65916758)
- [text](https://youtu.be/uMwV8HilQqw?si=yGM59W9PBUT7xx2M)
- [text](https://youtu.be/uYyUAtjapPM?si=G2C162q4CH4VAt29)
- [text](https://youtu.be/8k7Qa1qarUI?si=2272YkqKOpdT3S-_)

- [text](https://qiita.com/ssugasawa/items/90b6de2f178a49f0c300)
- [text](https://zenn.dev/mmrbulbul/articles/signate-geospatial-challenge-2025-01-baseline)
- https://qiita.com/aokikenichi/items/fbaf123ac1d9a50d07ee
[Nishika](https://competition.nishika.com/competitions/mansion_winter_2023/ranking)


- 去年の成績上位者のアイデアを見て
    - モデルは分割した方が良さそう
    - エラー分析とはなんぞや（ルールベースでもっと見ていくべき？）
        - house_areaとunit_areaの比較
    - 共益費もターゲットに含めるとよい？
    - タグ同士の組み合わせ、FI上位の特徴量の組み合わせ
    - 近傍K件の平均をとる（今だと１km以内なので数は指定していない、自身と同じbuilding_idも除外していない）
    - データ分割もあり？(面積で分割)
    - 国土地理情報
        - 地価
        - 駅利用者
        - 将来の人口
        - 都市計画
    - 後補正
        - 同じbuilding_id
        - トレンドやエリアの考慮



*不動産価格 ＝ 土地価値 + 建物価値 + 周辺環境価値*
- 土地の価値は増減する
- 建物の価値は基本的に低減するが、リノベ・リフォームにより減少幅を抑えることができる



ChatGPTの出力ログ
🗂️ 公示地価で作ると精度が上がる特徴量一覧（完全版）

目的別に ①基本 → ②距離/空間 → ③時系列 → ④クロス特徴量
という4段階構造で分類しています。

① 基本の地価特徴量（必須・最優先）
📌 基本地価
名前	説明	効果
nearest_land_price	最寄り地価ポイントの価格	●●●●◎
distance_to_land_price	最近傍地価ポイントまでの距離	●●●◎◎
log_land_price	地価のlog変換	●●●●◎

理由：
地価は「土地価値」をダイレクトに表すため、単体でもFI上位入りする超強力変数。

② 空間 × 地価特徴量（中級・強い）
📌 距離加重系（最も効く部類）
名前	説明	効果
weighted_land_price_3	直近3点の距離の逆数で加重平均	●●●●●
mean_land_price_3	直近3点の平均地価	●●●●◎
min_land_price_3	直近3点で最小値	●●●◎◎
max_land_price_3	直近3点で最大値	●●●◎◎
📌 周辺の地価分布
名前	説明	効果
land_price_std_3	直近3点の標準偏差	●●●◎◎
land_price_cv_3	標準偏差 / 平均	●●●◎◎

理由：
周辺地価の“安定度・ばらつき”は再開発・商業地と住宅地のミックスの判断材料となる。

③ 時系列 × 地価特徴量（上位勢が絶対やる）

あなたは2019〜2023の地価を持っているので、
これは必ずやった方がいい。

📌 差分・比率（YoY）
名前	説明	効果
land_diff_1yr	t年 − (t−1)年	●●●●●
land_ratio_1yr	t年 / (t−1)年 − 1	●●●●◎
land_diff_2yr	t年 − (t−2)年	●●●◎◎
📌 平均・トレンド
名前	説明	効果
land_ma3	直近3年平均	●●●●◎
land_ma5	直近5年平均	●●●◎◎
land_trend_slope	2019〜2023の線形回帰の傾き	●●●●●
land_trend_sign	傾きの符号（上昇/下降）	●●●◎◎

理由：
地価は“地域の経済パワー”の proxy。
トレンド変化は不動産価格の将来期待を説明できる。

④ cross特徴量（かなり強い）
📌 地価 × 建物
特徴量	意味
land_price / built_diff	土地>建物地域の強さ
land_price * building_area	建物が大きいほど地価の恩恵が増加
log_land_price × floor_area_ratio	容積率と地価の相性
📌 地価 × 駅距離
特徴量	意味
land_price / station_distance	駅近地域の土地価値の強さ
land_price * station_proximity	より市街地属性が強い
📌 地価 × 地域分類（用途地域など）
特徴量	意味
land_price × (用途地域ID)	商業地・住宅地で地価の効き方が異なる
land_price / population_density	人口密度と地価の関係
land_price - city_median_price	地価の“相対的高さ”が価格を説明
📌 地価 × 近傍類似物件
特徴量	意味
land_price / neighbor_avg_price	地域の不一致の補正
land_price_diff_from_neighbors	周辺相場との差
⑤ マクロ構造の地価特徴量（上級者向け）
📌 地価の階級化

land_rank_in_city（市内順位）

land_rank_in_station_area（駅周辺順位）

land_decile（10分位）

📌 地価クラスタリング

地価から地域をクラスタリングして
「高級住宅地」「下町」「郊外」を数値化する。

🔥 精度改善インパクト順（あなたが優先すべき順序）
優先度	特徴量	理由
⭐⭐⭐⭐⭐	最近傍3点の距離加重地価 weighted_land_price_3	ほぼ確実にFI top10に入る
⭐⭐⭐⭐⭐	時系列差分 land_diff_1yr	地域変化を説明できて強い
⭐⭐⭐⭐⭐	地価トレンド傾き land_trend_slope	上位勢御用達
⭐⭐⭐⭐	nearest_land_price, log_land_price	万能
⭐⭐⭐⭐	land_price / station_distance	都市 vs 郊外の区別が付く
⭐⭐⭐	用途地域 × 地価	空間構造を補正
⭐⭐⭐	地域中央値との差	相対評価が効く
✨ 最終まとめ（コアだけ知りたい場合）

公示地価で最も精度が上がる特徴量は：

最近傍3点距離加重平均地価

当年地価

前年比・前年差分

3年平均

トレンド傾き

地価 × 駅距離

地価 × 用途地域

地価 − 市区町村中央値

これを作れば 地価×地域×将来性 の全てをカバーでき、
モデルの地理的弱点がほぼ潰れます。